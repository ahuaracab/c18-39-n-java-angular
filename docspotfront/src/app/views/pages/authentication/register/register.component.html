<div class="RegisterContainer">
    <div class="container">
        <section class="selectRol">
            <p>Desea registrarse como:</p>
            <div class="seccionBtn">
                <button mat-raised-button [ngClass]="{
                    'btn-select': showForm === selectedRol.patient,
                    'btn-unselect': showForm !== selectedRol.patient
                  }" [ngStyle]="{ opacity: showForm === selectedRol.professional ? 0.5 : 1 }"
                    (click)="selectPacient()">Paciente</button>
                <p>รณ</p>
                <button mat-raised-button [ngClass]="{
                    'btn-select': showForm === selectedRol.professional,
                    'btn-unselect': showForm !== selectedRol.professional
                  }" [ngStyle]="{ opacity: showForm === selectedRol.patient ? 0.5 : 1 }"
                    (click)="selectProfessional()">Professional</button>
            </div>
        </section>
        @if (this.showTouched && this.register) {
        <form [formGroup]="register" (ngSubmit)="send()">
            <!-- email -->
            <mat-form-field appearance="outline" class="">
                <mat-label>Email</mat-label>
                <input type="number" matInput formControlName="email" placeholder="Ex. pat@example.com">
                <!-- <mat-hint>Errors appear instantly!</mat-hint> -->
                @if (register.get('email')?.hasError('email') && !register.get('email')?.hasError('required')) {
                <mat-error>Please enter a valid email address</mat-error>
                }
                @if (register.get('email')?.hasError('required')) {
                <mat-error>Email is <strong>required</strong></mat-error>
                }
            </mat-form-field>

            <mat-form-field appearance="outline">
                <mat-label>Password</mat-label>
                <input matInput [type]="showPassword ? 'password' : 'text'" formControlName="password">
                <button mat-icon-button type="button" matSuffix (click)="showPassword = !showPassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="showPassword">
                  <mat-icon>{{showPassword ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
                @if (register.get('password')?.hasError('required')) {
                    <mat-error>Password is <strong>required</strong></mat-error>
                }
              </mat-form-field>

            @if (this.showForm == this.selectedRol.professional) {
            <!-- mp -->
            <mat-form-field appearance="outline" class="">
                <mat-label>MP</mat-label>
                <input type="text" matInput formControlName="mp" placeholder="Ex. mp">
                <!-- <mat-hint>Errors appear instantly!</mat-hint> -->
                @if (register.get('mp')?.hasError('required')) {
                <mat-error>Mp is <strong>required</strong></mat-error>
                }
            </mat-form-field>
            }

            <!-- patient -->
            @if (this.showForm == this.selectedRol.patient) {
            <!-- cellphone -->
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>cellphone</mat-label>
                <input type="text" matInput formControlName="cellphone" placeholder="Ex. 937445581">
                <!-- <mat-hint>Errors appear instantly!</mat-hint> -->
                @if (register.get('cellphone')?.hasError('required')) {
                <mat-error>Cellphone is <strong>required</strong></mat-error>
                }
            </mat-form-field>

            <!-- photo -->

            <!-- hasWork -->

            <!-- socialWork -->



            }

            <button mat-raised-button type="submit" color='primary' [ngClass]="showTouched ? 
                            'btn-select':'btn-unselect'">Enviar</button>
        </form>

        }
    </div>


</div>