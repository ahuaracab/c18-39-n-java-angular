import{A as gr,Ba as pt,Bb as ro,Da as Bs,E as fe,Ea as wr,Fa as zs,G as je,Ga as ie,H as Re,Ia as Er,Ic as fo,J as mr,Ja as ln,K as $e,Ka as ze,Kc as yt,L as Ns,La as We,Lc as mn,Ma as Ws,Na as qs,O as Se,Oa as Hs,P as pe,Pa as Gs,Q as vr,Qa as Ks,R as Ds,Ra as Js,S as Ms,Sa as Ys,Ta as Ae,W as Ls,Wa as gt,X as K,Xb as io,Y as Us,Z as L,_ as k,a as p,aa as T,b as F,ba as cn,bb as Xs,c as bs,ca as xs,d as f,da as A,db as Zs,e as Rs,ea as yr,eb as j,f as Ss,fa as E,fb as Qs,fc as dn,g as dt,ga as g,gb as eo,gc as so,h as ur,ha as te,hc as hn,i as lr,ia as ft,ic as oo,j as be,jc as fn,k as H,ka as Fs,kc as vt,l as As,la as un,lb as to,lc as ao,m as Cs,ma as js,mb as no,mc as Tr,n as he,na as ne,nb as mt,nc as br,o as dr,oa as $s,oc as co,p as hr,pa as Ve,pc as uo,q as fr,qa as re,r as z,ra as Vs,s as y,t as ht,u as Os,uc as Rr,v as Ps,vc as lo,w as R,wa as _r,wc as ho,x as pr,xc as B,y as G,ya as Be,yc as pn,z as ks,za as Ir,zc as gn}from"./chunk-NYUABMLT.js";var It=class{},_n=class{},me=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Ar=class{encodeKey(e){return po(e)}encodeValue(e){return po(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Wc(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var qc=/%(\d[a-f0-9])/gi,Hc={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function po(t){return encodeURIComponent(t).replace(qc,(e,n)=>Hc[n]??e)}function vn(t){return`${t}`}var ge=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ar,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Wc(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(vn):[vn(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(vn(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(vn(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Cr=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Gc(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function go(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function mo(t){return typeof Blob<"u"&&t instanceof Blob}function vo(t){return typeof FormData<"u"&&t instanceof FormData}function Kc(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var _t=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Gc(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new me,this.context??=new Cr,!this.params)this.params=new ge,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||go(this.body)||mo(this.body)||vo(this.body)||Kc(this.body)?this.body:this.body instanceof ge?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||vo(this.body)?null:mo(this.body)?this.body.type||null:go(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ge?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,c=e.headers||this.headers,l=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,m)=>d.set(m,e.setHeaders[m]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,m)=>d.set(m,e.setParams[m]),l)),new t(n,r,o,{params:l,headers:c,context:h,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},qe=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(qe||{}),wt=class{constructor(e,n=wn.Ok,r="OK"){this.headers=e.headers||new me,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Or=class t extends wt{constructor(e={}){super(e),this.type=qe.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},He=class t extends wt{constructor(e={}){super(e),this.type=qe.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},In=class extends wt{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},wn=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(wn||{});function Sr(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Jc=(()=>{let e=class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof _t)o=r;else{let c;s.headers instanceof me?c=s.headers:c=new me(s.headers);let l;s.params&&(s.params instanceof ge?l=s.params:l=new ge({fromObject:s.params})),o=new _t(r,i,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:l,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=y(o).pipe(Re(c=>this.handler.handle(c)));if(r instanceof _t||s.observe==="events")return a;let u=a.pipe(fe(c=>c instanceof He));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe(R(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return u.pipe(R(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return u.pipe(R(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return u.pipe(R(c=>c.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:new ge().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,Sr(s,i))}post(r,i,s={}){return this.request("POST",r,Sr(s,i))}put(r,i,s={}){return this.request("PUT",r,Sr(s,i))}};e.\u0275fac=function(i){return new(i||e)(E(It))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();function Co(t,e){return e(t)}function Yc(t,e){return(n,r)=>e.intercept(n,{handle:i=>t(i,r)})}function Xc(t,e,n){return(r,i)=>re(n,()=>e(r,s=>t(s,i)))}var Zc=new A(""),kr=new A(""),Oo=new A(""),Qc=new A("");function eu(){let t=null;return(e,n)=>{t===null&&(t=(g(Zc,{optional:!0})??[]).reduceRight(Yc,Co));let r=g(mt),i=r.add();return t(e,n).pipe(Se(()=>r.remove(i)))}}var yo=(()=>{let e=class e extends It{constructor(r,i){super(),this.backend=r,this.injector=i,this.chain=null,this.pendingTasks=g(mt);let s=g(Qc,{optional:!0});this.backend=s??r}handle(r){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(kr),...this.injector.get(Oo,[])]));this.chain=s.reduceRight((o,a)=>Xc(o,a,this.injector),Co)}let i=this.pendingTasks.add();return this.chain(r,s=>this.backend.handle(s)).pipe(Se(()=>this.pendingTasks.remove(i)))}};e.\u0275fac=function(i){return new(i||e)(E(_n),E(Ve))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();var tu=/^\)\]\}',?\n/;function nu(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var _o=(()=>{let e=class e{constructor(r){this.xhrFactory=r}handle(r){if(r.method==="JSONP")throw new k(-2800,!1);let i=this.xhrFactory;return(i.\u0275loadImpl?z(i.\u0275loadImpl()):y(null)).pipe(K(()=>new dt(o=>{let a=i.build();if(a.open(r.method,r.urlWithParams),r.withCredentials&&(a.withCredentials=!0),r.headers.forEach((v,I)=>a.setRequestHeader(v,I.join(","))),r.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!r.headers.has("Content-Type")){let v=r.detectContentTypeHeader();v!==null&&a.setRequestHeader("Content-Type",v)}if(r.responseType){let v=r.responseType.toLowerCase();a.responseType=v!=="json"?v:"text"}let u=r.serializeBody(),c=null,l=()=>{if(c!==null)return c;let v=a.statusText||"OK",I=new me(a.getAllResponseHeaders()),P=nu(a)||r.url;return c=new Or({headers:I,status:a.status,statusText:v,url:P}),c},h=()=>{let{headers:v,status:I,statusText:P,url:U}=l(),w=null;I!==wn.NoContent&&(w=typeof a.response>"u"?a.responseText:a.response),I===0&&(I=w?wn.Ok:0);let Z=I>=200&&I<300;if(r.responseType==="json"&&typeof w=="string"){let le=w;w=w.replace(tu,"");try{w=w!==""?JSON.parse(w):null}catch(Fe){w=le,Z&&(Z=!1,w={error:Fe,text:w})}}Z?(o.next(new He({body:w,headers:v,status:I,statusText:P,url:U||void 0})),o.complete()):o.error(new In({error:w,headers:v,status:I,statusText:P,url:U||void 0}))},d=v=>{let{url:I}=l(),P=new In({error:v,status:a.status||0,statusText:a.statusText||"Unknown Error",url:I||void 0});o.error(P)},m=!1,O=v=>{m||(o.next(l()),m=!0);let I={type:qe.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(I.total=v.total),r.responseType==="text"&&a.responseText&&(I.partialText=a.responseText),o.next(I)},M=v=>{let I={type:qe.UploadProgress,loaded:v.loaded};v.lengthComputable&&(I.total=v.total),o.next(I)};return a.addEventListener("load",h),a.addEventListener("error",d),a.addEventListener("timeout",d),a.addEventListener("abort",d),r.reportProgress&&(a.addEventListener("progress",O),u!==null&&a.upload&&a.upload.addEventListener("progress",M)),a.send(u),o.next({type:qe.Sent}),()=>{a.removeEventListener("error",d),a.removeEventListener("abort",d),a.removeEventListener("load",h),a.removeEventListener("timeout",d),r.reportProgress&&(a.removeEventListener("progress",O),u!==null&&a.upload&&a.upload.removeEventListener("progress",M)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(i){return new(i||e)(E(mn))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Po=new A(""),ru="XSRF-TOKEN",iu=new A("",{providedIn:"root",factory:()=>ru}),su="X-XSRF-TOKEN",ou=new A("",{providedIn:"root",factory:()=>su}),En=class{},au=(()=>{let e=class e{constructor(r,i,s){this.doc=r,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let r=this.doc.cookie||"";return r!==this.lastCookieString&&(this.parseCount++,this.lastToken=gn(r,this.cookieName),this.lastCookieString=r),this.lastToken}};e.\u0275fac=function(i){return new(i||e)(E(B),E(ie),E(iu))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();function cu(t,e){let n=t.url.toLowerCase();if(!g(Po)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=g(En).getToken(),i=g(ou);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}var ko=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(ko||{});function uu(t,e){return{\u0275kind:t,\u0275providers:e}}function lu(...t){let e=[Jc,_o,yo,{provide:It,useExisting:yo},{provide:_n,useExisting:_o},{provide:kr,useValue:cu,multi:!0},{provide:Po,useValue:!0},{provide:En,useClass:au}];for(let n of t)e.push(...n.\u0275providers);return ne(e)}var Io=new A("");function du(){return uu(ko.LegacyInterceptors,[{provide:Io,useFactory:eu},{provide:kr,useExisting:Io,multi:!0}])}var Yg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=un({type:e}),e.\u0275inj=cn({providers:[lu(du())]});let t=e;return t})();var wo="b",Eo="h",To="s",bo="st",Ro="u",So="rt",yn=new A(""),hu=["GET","HEAD"];function fu(t,e){let h=g(yn),{isCacheActive:n}=h,r=bs(h,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!hu.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=g(ln),a=gu(t),u=o.get(a,null),c=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(c=i.includeHeaders),u){let{[wo]:d,[So]:m,[Eo]:O,[To]:M,[bo]:v,[Ro]:I}=u,P=d;switch(m){case"arraybuffer":P=new TextEncoder().encode(d).buffer;break;case"blob":P=new Blob([d]);break}let U=new me(O);return y(new He({body:P,headers:U,status:M,statusText:v,url:I}))}let l=yt(g(ie));return e(t).pipe(L(d=>{d instanceof He&&l&&o.set(a,{[wo]:d.body,[Eo]:pu(d.headers,c),[To]:d.status,[bo]:d.statusText,[Ro]:d.url||"",[So]:t.responseType})}))}function pu(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function Ao(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function gu(t){let{params:e,method:n,responseType:r,url:i}=t,s=Ao(e),o=t.serializeBody();o instanceof URLSearchParams?o=Ao(o):typeof o!="string"&&(o="");let a=[n,r,i,o,s].join("|"),u=mu(a);return u}function mu(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function No(t){return[{provide:yn,useFactory:()=>(Zs("NgHttpTransferCache"),p({isCacheActive:!0},t))},{provide:Oo,useValue:fu,multi:!0,deps:[ln,yn]},{provide:fn,multi:!0,useFactory:()=>{let e=g(vt),n=g(yn);return()=>{ao(e).then(()=>{n.isCacheActive=!1})}}}]}var Mr=class extends ho{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Lr=class t extends Mr{static makeCurrent(){lo(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=yu();return n==null?null:_u(n)}resetBaseElement(){Et=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return gn(document.cookie,e)}},Et=null;function yu(){return Et=Et||document.querySelector("base"),Et?Et.getAttribute("href"):null}function _u(t){return new URL(t,document.baseURI).pathname}var Iu=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Ur=new A(""),Uo=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new k(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(E(Ur),E(j))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Tn=class{constructor(e){this._doc=e}},Nr="ng-app-id",xo=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=yt(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Nr}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Nr),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Nr,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(E(B),E(wr),E(Er,8),E(ie))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Dr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jr=/%COMP%/g,Fo="%COMP%",wu=`_nghost-${Fo}`,Eu=`_ngcontent-${Fo}`,Tu=!0,bu=new A("",{providedIn:"root",factory:()=>Tu});function Ru(t){return Eu.replace(jr,t)}function Su(t){return wu.replace(jr,t)}function jo(t,e){return e.map(n=>n.replace(jr,t))}var Do=(()=>{let e=class e{constructor(r,i,s,o,a,u,c,l=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=u,this.ngZone=c,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=yt(u),this.defaultRenderer=new Tt(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===ft.ShadowDom&&(i=F(p({},i),{encapsulation:ft.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof bn?s.applyToHost(r):s instanceof bt&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,u=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case ft.Emulated:o=new bn(c,l,i,this.appId,h,a,u,d);break;case ft.ShadowDom:return new xr(c,l,r,i,a,u,this.nonce,d);default:o=new bt(c,l,i,h,a,u,d);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(E(Uo),E(xo),E(wr),E(bu),E(B),E(ie),E(j),E(Er))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Tt=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Dr[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Mo(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Mo(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new k(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Dr[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Dr[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(gt.DashCase|gt.Important)?e.style.setProperty(n,r,i&gt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&gt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Rr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Mo(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var xr=class extends Tt{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=jo(i.id,i.styles);for(let l of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=l,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},bt=class extends Tt{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?jo(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},bn=class extends bt{constructor(e,n,r,i,s,o,a,u){let c=i+"-"+r.id;super(e,n,r,s,o,a,u,c),this.contentAttr=Ru(c),this.hostAttr=Su(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Au=(()=>{let e=class e extends Tn{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(E(B))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})(),Lo=["alt","control","meta","shift"],Cu={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ou={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Pu=(()=>{let e=class e extends Tn{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Rr().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),Lo.forEach(l=>{let h=i.indexOf(l);h>-1&&(i.splice(h,1),a+=l+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=Cu[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Lo.forEach(a=>{if(a!==s){let u=Ou[a];u(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(E(B))},e.\u0275prov=T({token:e,factory:e.\u0275fac});let t=e;return t})();function vm(t,e){return co(p({rootComponent:t},ku(e)))}function ku(t){return{appProviders:[...Uu,...t?.providers??[]],platformProviders:Lu}}function Nu(){Lr.makeCurrent()}function Du(){return new Ir}function Mu(){return Bs(document),document}var Lu=[{provide:ie,useValue:fo},{provide:zs,useValue:Nu,multi:!0},{provide:B,useFactory:Mu,deps:[]}];var Uu=[{provide:$s,useValue:"root"},{provide:Ir,useFactory:Du,deps:[]},{provide:Ur,useClass:Au,multi:!0,deps:[B,j,ie]},{provide:Ur,useClass:Pu,multi:!0,deps:[B]},Do,xo,Uo,{provide:Xs,useExisting:Do},{provide:mn,useClass:Iu,deps:[]},[]];var $o=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(E(B))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:function(i){let s=null;return i?s=new(i||e):s=E(Fu),s},providedIn:"root"});let t=e;return t})(),Fu=(()=>{let e=class e extends xu{constructor(r){super(),this._doc=r}sanitize(r,i){if(i==null)return null;switch(r){case Ae.NONE:return i;case Ae.HTML:return We(i,"HTML")?ze(i):Ys(this._doc,String(i)).toString();case Ae.STYLE:return We(i,"Style")?ze(i):i;case Ae.SCRIPT:if(We(i,"Script"))return ze(i);throw new k(5200,!1);case Ae.URL:return We(i,"URL")?ze(i):Js(String(i));case Ae.RESOURCE_URL:if(We(i,"ResourceURL"))return ze(i);throw new k(5201,!1);default:throw new k(5202,!1)}}bypassSecurityTrustHtml(r){return Ws(r)}bypassSecurityTrustStyle(r){return qs(r)}bypassSecurityTrustScript(r){return Hs(r)}bypassSecurityTrustUrl(r){return Gs(r)}bypassSecurityTrustResourceUrl(r){return Ks(r)}};e.\u0275fac=function(i){return new(i||e)(E(B))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fr=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(Fr||{});function ym(...t){let e=[],n=new Set,r=n.has(Fr.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return ne([[],uo(),n.has(Fr.NoHttpTransferCache)||r?[]:No({}),e])}var _="primary",jt=Symbol("RouteTitle"),Wr=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Xe(t){return new Wr(t)}function $u(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Vu(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!se(t[n],e[n]))return!1;return!0}function se(t,e){let n=t?qr(t):void 0,r=e?qr(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Ho(t[i],e[i]))return!1;return!0}function qr(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Ho(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Go(t){return t.length>0?t[t.length-1]:null}function _e(t){return Os(t)?t:oo(t)?z(Promise.resolve(t)):y(t)}var Bu={exact:Jo,subset:Yo},Ko={exact:zu,subset:Wu,ignored:()=>!0};function Vo(t,e,n){return Bu[n.paths](t.root,e.root,n.matrixParams)&&Ko[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function zu(t,e){return se(t,e)}function Jo(t,e,n){if(!Oe(t.segments,e.segments)||!An(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Jo(t.children[r],e.children[r],n))return!1;return!0}function Wu(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ho(t[n],e[n]))}function Yo(t,e,n){return Xo(t,e,e.segments,n)}function Xo(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Oe(i,n)||e.hasChildren()||!An(i,n,r))}else if(t.segments.length===n.length){if(!Oe(t.segments,n)||!An(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Yo(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Oe(t.segments,i)||!An(t.segments,i,r)||!t.children[_]?!1:Xo(t.children[_],e,s,r)}}function An(t,e,n){return e.every((r,i)=>Ko[n](t[i].parameters,r.parameters))}var ve=class{constructor(e=new S([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Xe(this.queryParams),this._queryParamMap}toString(){return Gu.serialize(this)}},S=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cn(this)}},Ce=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Xe(this.parameters),this._parameterMap}toString(){return Qo(this)}};function qu(t,e){return Oe(t,e)&&t.every((n,r)=>se(n.parameters,e[r].parameters))}function Oe(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Hu(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===_&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==_&&(n=n.concat(e(i,r)))}),n}var vi=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>new Pn,providedIn:"root"});let t=e;return t})(),Pn=class{parse(e){let n=new Gr(e);return new ve(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Rt(e.root,!0)}`,r=Yu(e.queryParams),i=typeof e.fragment=="string"?`#${Ku(e.fragment)}`:"";return`${n}${r}${i}`}},Gu=new Pn;function Cn(t){return t.segments.map(e=>Qo(e)).join("/")}function Rt(t,e){if(!t.hasChildren())return Cn(t);if(e){let n=t.children[_]?Rt(t.children[_],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==_&&r.push(`${i}:${Rt(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Hu(t,(r,i)=>i===_?[Rt(t.children[_],!1)]:[`${i}:${Rt(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[_]!=null?`${Cn(t)}/${n[0]}`:`${Cn(t)}/(${n.join("//")})`}}function Zo(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rn(t){return Zo(t).replace(/%3B/gi,";")}function Ku(t){return encodeURI(t)}function Hr(t){return Zo(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function On(t){return decodeURIComponent(t)}function Bo(t){return On(t.replace(/\+/g,"%20"))}function Qo(t){return`${Hr(t.path)}${Ju(t.parameters)}`}function Ju(t){return Object.entries(t).map(([e,n])=>`;${Hr(e)}=${Hr(n)}`).join("")}function Yu(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Rn(n)}=${Rn(i)}`).join("&"):`${Rn(n)}=${Rn(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Xu=/^[^\/()?;#]+/;function $r(t){let e=t.match(Xu);return e?e[0]:""}var Zu=/^[^\/()?;=#]+/;function Qu(t){let e=t.match(Zu);return e?e[0]:""}var el=/^[^=?&#]+/;function tl(t){let e=t.match(el);return e?e[0]:""}var nl=/^[^&#]+/;function rl(t){let e=t.match(nl);return e?e[0]:""}var Gr=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new S([],{}):new S([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[_]=new S(e,n)),r}parseSegment(){let e=$r(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(e),new Ce(On(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Qu(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=$r(this.remaining);i&&(r=i,this.capture(r))}e[On(n)]=On(r)}parseQueryParam(e){let n=tl(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=rl(this.remaining);o&&(r=o,this.capture(r))}let i=Bo(n),s=Bo(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=$r(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new k(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=_);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[_]:new S([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new k(4011,!1)}};function ea(t){return t.segments.length>0?new S([],{[_]:t}):t}function ta(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=ta(i);if(r===_&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new S(t.segments,e);return il(n)}function il(t){if(t.numberOfChildren===1&&t.children[_]){let e=t.children[_];return new S(t.segments.concat(e.segments),e.children)}return t}function Ze(t){return t instanceof ve}function sl(t,e,n=null,r=null){let i=na(t);return ra(i,e,n,r)}function na(t){let e;function n(s){let o={};for(let u of s.children){let c=n(u);o[u.outlet]=c}let a=new S(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=ea(r);return e??i}function ra(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Vr(i,i,i,n,r);let s=ol(e);if(s.toRoot())return Vr(i,i,new S([],{}),n,r);let o=al(s,i,t),a=o.processChildren?Ct(o.segmentGroup,o.index,s.commands):sa(o.segmentGroup,o.index,s.commands);return Vr(i,o.segmentGroup,a,n,r)}function kn(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function kt(t){return typeof t=="object"&&t!=null&&t.outlets}function Vr(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,c])=>{s[u]=Array.isArray(c)?c.map(l=>`${l}`):`${c}`});let o;t===e?o=n:o=ia(t,e,n);let a=ea(ta(o));return new ve(a,s,i)}function ia(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=ia(s,e,n)}),new S(t.segments,r)}var Nn=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&kn(r[0]))throw new k(4003,!1);let i=r.find(kt);if(i&&i!==Go(r))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ol(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Nn(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,c])=>{a[u]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Nn(n,e,r)}var Je=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function al(t,e,n){if(t.isAbsolute)return new Je(e,!0,0);if(!n)return new Je(e,!1,NaN);if(n.parent===null)return new Je(n,!0,0);let r=kn(t.commands[0])?0:1,i=n.segments.length-1+r;return cl(n,i,t.numberOfDoubleDots)}function cl(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new k(4005,!1);i=r.segments.length}return new Je(r,!1,i-s)}function ul(t){return kt(t[0])?t[0].outlets:{[_]:t}}function sa(t,e,n){if(t??=new S([],{}),t.segments.length===0&&t.hasChildren())return Ct(t,e,n);let r=ll(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new S(t.segments.slice(0,r.pathIndex),{});return s.children[_]=new S(t.segments.slice(r.pathIndex),t.children),Ct(s,0,i)}else return r.match&&i.length===0?new S(t.segments,{}):r.match&&!t.hasChildren()?Kr(t,e,n):r.match?Ct(t,0,i):Kr(t,e,n)}function Ct(t,e,n){if(n.length===0)return new S(t.segments,{});{let r=ul(n),i={};if(Object.keys(r).some(s=>s!==_)&&t.children[_]&&t.numberOfChildren===1&&t.children[_].segments.length===0){let s=Ct(t.children[_],e,n);return new S(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=sa(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new S(t.segments,i)}}function ll(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(kt(a))break;let u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&c&&typeof c=="object"&&c.outlets===void 0){if(!Wo(u,c,o))return s;r+=2}else{if(!Wo(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Kr(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(kt(s)){let u=dl(s.outlets);return new S(r,u)}if(i===0&&kn(n[0])){let u=t.segments[e];r.push(new Ce(u.path,zo(n[0]))),i++;continue}let o=kt(s)?s.outlets[_]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&kn(a)?(r.push(new Ce(o,zo(a))),i+=2):(r.push(new Ce(o,{})),i++)}return new S(r,{})}function dl(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Kr(new S([],{}),0,r))}),e}function zo(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Wo(t,e,n){return t==n.path&&se(e,n.parameters)}var Ot="imperative",$=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}($||{}),J=class{constructor(e,n){this.id=e,this.url=n}},Nt=class extends J{constructor(e,n,r="imperative",i=null){super(e,n),this.type=$.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Pe=class extends J{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=$.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},q=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(q||{}),Jr=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Jr||{}),ye=class extends J{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=$.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ke=class extends J{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=$.NavigationSkipped}},Dt=class extends J{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=$.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Dn=class extends J{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yr=class extends J{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xr=class extends J{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=$.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Zr=class extends J{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qr=class extends J{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=$.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ei=class{constructor(e){this.route=e,this.type=$.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ti=class{constructor(e){this.route=e,this.type=$.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ni=class{constructor(e){this.snapshot=e,this.type=$.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ri=class{constructor(e){this.snapshot=e,this.type=$.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ii=class{constructor(e){this.snapshot=e,this.type=$.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},si=class{constructor(e){this.snapshot=e,this.type=$.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Mt=class{},Lt=class{constructor(e){this.url=e}};var oi=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new jn,this.attachRef=null}},jn=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new oi,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mn=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ai(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=ai(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ci(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return ci(e,this._root).map(n=>n.value)}};function ai(t,e){if(t===e.value)return e;for(let n of e.children){let r=ai(t,n);if(r)return r}return null}function ci(t,e){if(t===e.value)return[e];for(let n of e.children){let r=ci(t,n);if(r.length)return r.unshift(e),r}return[]}var W=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ke(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ln=class extends Mn{constructor(e,n){super(e),this.snapshot=n,_i(this,e)}toString(){return this.snapshot.toString()}};function oa(t){let e=hl(t),n=new H([new Ce("",{})]),r=new H({}),i=new H({}),s=new H({}),o=new H(""),a=new Qe(n,r,s,o,i,_,t,e.root);return a.snapshot=e.root,new Ln(new W(a,[]),e)}function hl(t){let e={},n={},r={},i="",s=new Ut([],e,r,i,n,_,t,null,{});return new Un("",new W(s,[]))}var Qe=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(R(c=>c[jt]))??y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(R(e=>Xe(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(R(e=>Xe(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yi(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:p(p({},e.params),t.params),data:p(p({},e.data),t.data),resolve:p(p(p(p({},t.data),e.data),i?.data),t._resolvedData)}:r={params:p({},t.params),data:p({},t.data),resolve:p(p({},t.data),t._resolvedData??{})},i&&ca(i)&&(r.resolve[jt]=i.title),r}var Ut=class{get title(){return this.data?.[jt]}constructor(e,n,r,i,s,o,a,u,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Xe(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Xe(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Un=class extends Mn{constructor(e,n){super(n),this.url=e,_i(this,n)}toString(){return aa(this._root)}};function _i(t,e){e.value._routerState=t,e.children.forEach(n=>_i(t,n))}function aa(t){let e=t.children.length>0?` { ${t.children.map(aa).join(", ")} } `:"";return`${t.value}${e}`}function Br(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,se(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),se(e.params,n.params)||t.paramsSubject.next(n.params),Vu(e.url,n.url)||t.urlSubject.next(n.url),se(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function ui(t,e){let n=se(t.params,e.params)&&qu(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||ui(t.parent,e.parent))}function ca(t){return typeof t.title=="string"||t.title===null}var fl=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=_,this.activateEvents=new pt,this.deactivateEvents=new pt,this.attachEvents=new pt,this.detachEvents=new pt,this.parentContexts=g(jn),this.location=g(eo),this.changeDetector=g(br),this.environmentInjector=g(Ve),this.inputBinder=g(Ii,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,c=new li(r,u,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=js({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Vs]});let t=e;return t})(),li=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Qe?this.route:e===jn?this.childContexts:this.parent.get(e,n)}},Ii=new A("");function pl(t,e,n){let r=xt(t,e._root,n?n._root:void 0);return new Ln(r,e)}function xt(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=gl(t,e,n);return new W(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>xt(t,a)),o}}let r=ml(e.value),i=e.children.map(s=>xt(t,s));return new W(r,i)}}function gl(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return xt(t,r,i);return xt(t,r)})}function ml(t){return new Qe(new H(t.url),new H(t.params),new H(t.queryParams),new H(t.fragment),new H(t.data),t.outlet,t.component,t)}var ua="ngNavigationCancelingError";function la(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ze(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=da(!1,q.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function da(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[ua]=!0,n.cancellationCode=e,n}function vl(t){return ha(t)&&Ze(t.url)}function ha(t){return!!t&&t[ua]}var yl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Fs({type:e,selectors:[["ng-component"]],standalone:!0,features:[io],decls:1,vars:0,template:function(i,s){i&1&&ro(0,"router-outlet")},dependencies:[fl],encapsulation:2});let t=e;return t})();function _l(t,e){return t.providers&&!t._injector&&(t._injector=no(t.providers,e,`Route: ${t.path}`)),t._injector??e}function wi(t){let e=t.children&&t.children.map(wi),n=e?F(p({},t),{children:e}):p({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==_&&(n.component=yl),n}function oe(t){return t.outlet||_}function Il(t,e){let n=t.filter(r=>oe(r)===e);return n.push(...t.filter(r=>oe(r)!==e)),n}function $t(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var wl=(t,e,n,r)=>R(i=>(new di(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),di=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Br(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ke(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ke(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ke(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ke(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new si(s.value.snapshot))}),e.children.length&&this.forwardEvent(new ri(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Br(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Br(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=$t(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},xn=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ye=class{constructor(e,n){this.component=e,this.route=n}};function El(t,e,n){let r=t._root,i=e?e._root:null;return St(r,i,n,[r.value])}function Tl(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function tt(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!xs(t)?t:e.get(t):r}function St(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ke(e);return t.children.forEach(o=>{bl(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Pt(a,n.getContext(o),i)),i}function bl(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=Rl(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xn(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?St(t,e,a?a.children:null,r,i):St(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ye(a.outlet.component,o))}else o&&Pt(e,a,i),i.canActivateChecks.push(new xn(r)),s.component?St(t,null,a?a.children:null,r,i):St(t,null,n,r,i);return i}function Rl(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Oe(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Oe(t.url,e.url)||!se(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ui(t,e)||!se(t.queryParams,e.queryParams);case"paramsChange":default:return!ui(t,e)}}function Pt(t,e,n){let r=Ke(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Pt(o,e.children.getContext(s),n):Pt(o,null,n):Pt(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ye(e.outlet.component,i)):n.canDeactivateChecks.push(new Ye(null,i)):n.canDeactivateChecks.push(new Ye(null,i))}function Vt(t){return typeof t=="function"}function Sl(t){return typeof t=="boolean"}function Al(t){return t&&Vt(t.canLoad)}function Cl(t){return t&&Vt(t.canActivate)}function Ol(t){return t&&Vt(t.canActivateChild)}function Pl(t){return t&&Vt(t.canDeactivate)}function kl(t){return t&&Vt(t.canMatch)}function fa(t){return t instanceof Ps||t?.name==="EmptyError"}var Sn=Symbol("INITIAL_VALUE");function et(){return K(t=>pr(t.map(e=>e.pipe($e(1),Ls(Sn)))).pipe(R(e=>{for(let n of e)if(n!==!0){if(n===Sn)return Sn;if(n===!1||n instanceof ve)return n}return!0}),fe(e=>e!==Sn),$e(1)))}function Nl(t,e){return G(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?y(F(p({},n),{guardsResult:!0})):Dl(o,r,i,t).pipe(G(a=>a&&Sl(a)?Ml(r,s,t,e):y(a)),R(a=>F(p({},n),{guardsResult:a})))})}function Dl(t,e,n,r){return z(t).pipe(G(i=>jl(i.component,i.route,n,e,r)),pe(i=>i!==!0,!0))}function Ml(t,e,n,r){return z(e).pipe(Re(i=>ks(Ul(i.route.parent,r),Ll(i.route,r),Fl(t,i.path,n),xl(t,i.route,n))),pe(i=>i!==!0,!0))}function Ll(t,e){return t!==null&&e&&e(new ii(t)),y(!0)}function Ul(t,e){return t!==null&&e&&e(new ni(t)),y(!0)}function xl(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return y(!0);let i=r.map(s=>gr(()=>{let o=$t(e)??n,a=tt(s,o),u=Cl(a)?a.canActivate(e,t):re(o,()=>a(e,t));return _e(u).pipe(pe())}));return y(i).pipe(et())}function Fl(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Tl(o)).filter(o=>o!==null).map(o=>gr(()=>{let a=o.guards.map(u=>{let c=$t(o.node)??n,l=tt(u,c),h=Ol(l)?l.canActivateChild(r,t):re(c,()=>l(r,t));return _e(h).pipe(pe())});return y(a).pipe(et())}));return y(s).pipe(et())}function jl(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return y(!0);let o=s.map(a=>{let u=$t(e)??i,c=tt(a,u),l=Pl(c)?c.canDeactivate(t,e,n,r):re(u,()=>c(t,e,n,r));return _e(l).pipe(pe())});return y(o).pipe(et())}function $l(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return y(!0);let s=i.map(o=>{let a=tt(o,t),u=Al(a)?a.canLoad(e,n):re(t,()=>a(e,n));return _e(u)});return y(s).pipe(et(),pa(r))}function pa(t){return Ss(L(e=>{if(Ze(e))throw la(t,e)}),R(e=>e===!0))}function Vl(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return y(!0);let s=i.map(o=>{let a=tt(o,t),u=kl(a)?a.canMatch(e,n):re(t,()=>a(e,n));return _e(u)});return y(s).pipe(et(),pa(r))}var Ft=class{constructor(e){this.segmentGroup=e||null}},Fn=class extends Error{constructor(e){super(),this.urlTree=e}};function Ge(t){return ht(new Ft(t))}function Bl(t){return ht(new k(4e3,!1))}function zl(t){return ht(da(!1,q.GuardRejected))}var hi=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return y(r);if(i.numberOfChildren>1||!i.children[_])return Bl(e.redirectTo);i=i.children[_]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Fn(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ve(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new S(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},fi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Wl(t,e,n,r,i){let s=Ei(t,e,n);return s.matched?(r=_l(e,r),Vl(r,e,n,i).pipe(R(o=>o===!0?s:p({},fi)))):y(s)}function Ei(t,e,n){if(e.path==="**")return ql(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?p({},fi):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||$u)(n,t,e);if(!i)return p({},fi);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?p(p({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function ql(t){return{matched:!0,parameters:t.length>0?Go(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function qo(t,e,n,r){return n.length>0&&Kl(t,n,r)?{segmentGroup:new S(e,Gl(r,new S(n,t.children))),slicedSegments:[]}:n.length===0&&Jl(t,n,r)?{segmentGroup:new S(t.segments,Hl(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new S(t.segments,t.children),slicedSegments:n}}function Hl(t,e,n,r){let i={};for(let s of n)if($n(t,e,s)&&!r[oe(s)]){let o=new S([],{});i[oe(s)]=o}return p(p({},r),i)}function Gl(t,e){let n={};n[_]=e;for(let r of t)if(r.path===""&&oe(r)!==_){let i=new S([],{});n[oe(r)]=i}return n}function Kl(t,e,n){return n.some(r=>$n(t,e,r)&&oe(r)!==_)}function Jl(t,e,n){return n.some(r=>$n(t,e,r))}function $n(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Yl(t,e,n,r){return oe(t)!==r&&(r===_||!$n(e,n,t))?!1:Ei(e,t,n).matched}function Xl(t,e,n){return e.length===0&&!t.children[n]}var pi=class{};function Zl(t,e,n,r,i,s,o="emptyOnly"){return new gi(t,e,n,r,i,o,s).recognize()}var Ql=31,gi=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new hi(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new k(4002,`'${e.segmentGroup}'`)}recognize(){let e=qo(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(R(n=>{let r=new Ut([],Object.freeze({}),Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,{},_,this.rootComponentType,null,{}),i=new W(r,n),s=new Un("",i),o=sl(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,_).pipe(je(r=>{if(r instanceof Fn)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ft?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=yi(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(R(s=>s instanceof W?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return z(i).pipe(Re(s=>{let o=r.children[s],a=Il(n,s);return this.processSegmentGroup(e,a,o,s)}),Ms((s,o)=>(s.push(...o),s)),mr(null),Ds(),G(s=>{if(s===null)return Ge(r);let o=ga(s);return ed(o),y(o)}))}processSegment(e,n,r,i,s,o){return z(n).pipe(Re(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(je(u=>{if(u instanceof Ft)return y(null);throw u}))),pe(a=>!!a),je(a=>{if(fa(a))return Xl(r,i,s)?y(new pi):Ge(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return Yl(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Ge(i):Ge(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:u,positionalParamSegments:c,remainingSegments:l}=Ei(n,i,s);if(!a)return Ge(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Ql&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,h).pipe(G(d=>this.processSegment(e,r,n,d.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=Wl(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(K(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(K(({routes:u})=>{let c=r._loadedInjector??e,{consumedSegments:l,remainingSegments:h,parameters:d}=a,m=new Ut(l,d,Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,nd(r),oe(r),r.component??r._loadedComponent??null,r,rd(r)),{segmentGroup:O,slicedSegments:M}=qo(n,l,h,u);if(M.length===0&&O.hasChildren())return this.processChildren(c,u,O).pipe(R(I=>I===null?null:new W(m,I)));if(u.length===0&&M.length===0)return y(new W(m,[]));let v=oe(r)===s;return this.processSegment(c,u,O,M,v?_:s,!0).pipe(R(I=>new W(m,I instanceof W?[I]:[])))}))):Ge(n)))}getChildConfig(e,n,r){return n.children?y({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?y({routes:n._loadedRoutes,injector:n._loadedInjector}):$l(e,n,r,this.urlSerializer).pipe(G(i=>i?this.configLoader.loadChildren(e,n).pipe(L(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):zl(n))):y({routes:[],injector:e})}};function ed(t){t.sort((e,n)=>e.value.outlet===_?-1:n.value.outlet===_?1:e.value.outlet.localeCompare(n.value.outlet))}function td(t){let e=t.value.routeConfig;return e&&e.path===""}function ga(t){let e=[],n=new Set;for(let r of t){if(!td(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ga(r.children);e.push(new W(r.value,i))}return e.filter(r=>!n.has(r))}function nd(t){return t.data||{}}function rd(t){return t.resolve||{}}function id(t,e,n,r,i,s){return G(o=>Zl(t,e,n,r,o.extractedUrl,i,s).pipe(R(({state:a,tree:u})=>F(p({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function sd(t,e){return G(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return y(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let c of ma(u))o.add(c);let a=0;return z(o).pipe(Re(u=>s.has(u)?od(u,r,t,e):(u.data=yi(u,u.parent,t).resolve,y(void 0))),L(()=>a++),vr(1),G(u=>a===o.size?y(n):he))})}function ma(t){let e=t.children.map(n=>ma(n)).flat();return[t,...e]}function od(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!ca(i)&&(s[jt]=i.title),ad(s,t,e,r).pipe(R(o=>(t._resolvedData=o,t.data=yi(t,t.parent,n).resolve,null)))}function ad(t,e,n,r){let i=qr(t);if(i.length===0)return y({});let s={};return z(i).pipe(G(o=>cd(t[o],e,n,r).pipe(pe(),L(a=>{s[o]=a}))),vr(1),Ns(s),je(o=>fa(o)?he:ht(o)))}function cd(t,e,n,r){let i=$t(e)??r,s=tt(t,i),o=s.resolve?s.resolve(e,n):re(i,()=>s(e,n));return _e(o)}function zr(t){return K(e=>{let n=t(e);return n?z(n).pipe(R(()=>e)):y(e)})}var va=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===_);return i}getResolvedTitleForRoute(r){return r.data[jt]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>g(ud),providedIn:"root"});let t=e;return t})(),ud=(()=>{let e=class e extends va{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(E($o))},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ti=new A("",{providedIn:"root",factory:()=>({})}),bi=new A(""),ld=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(Tr)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return y(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=_e(r.loadComponent()).pipe(R(ya),L(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Se(()=>{this.componentLoaders.delete(r)})),s=new lr(i,()=>new be).pipe(ur());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return y({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=dd(i,this.compiler,r,this.onLoadEndListener).pipe(Se(()=>{this.childrenLoaders.delete(i)})),a=new lr(o,()=>new be).pipe(ur());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function dd(t,e,n,r){return _e(t.loadChildren()).pipe(R(ya),G(i=>i instanceof to||Array.isArray(i)?y(i):z(e.compileModuleAsync(i))),R(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(bi,[],{optional:!0,self:!0}).flat()),{routes:o.map(wi),injector:s}}))}function hd(t){return t&&typeof t=="object"&&"default"in t}function ya(t){return hd(t)?t.default:t}var Ri=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>g(fd),providedIn:"root"});let t=e;return t})(),fd=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_a=new A(""),Ia=new A("");function pd(t,e,n){let r=t.get(Ia),i=t.get(B);return t.get(j).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(c=>setTimeout(c));let s,o=new Promise(c=>{s=c}),a=i.startViewTransition(()=>(s(),gd(t))),{onViewTransitionCreated:u}=r;return u&&re(t,()=>u({transition:a,from:e,to:n})),o})}function gd(t){return new Promise(e=>{Qs(e,{injector:t})})}var md=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new be,this.transitionAbortSubject=new be,this.configLoader=g(ld),this.environmentInjector=g(Ve),this.urlSerializer=g(vi),this.rootContexts=g(jn),this.location=g(pn),this.inputBindingEnabled=g(Ii,{optional:!0})!==null,this.titleStrategy=g(va),this.options=g(Ti,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(Ri),this.createViewTransition=g(_a,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>y(void 0),this.rootComponentType=null;let r=s=>this.events.next(new ei(s)),i=s=>this.events.next(new ti(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(F(p(p({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new H({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ot,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(fe(o=>o.id!==0),R(o=>F(p({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),K(o=>{let a=!1,u=!1;return y(o).pipe(K(c=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",q.SupersededByNewNavigation),he;this.currentTransition=o,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?F(p({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!l&&h!=="reload"){let d="";return this.events.next(new ke(c.id,this.urlSerializer.serialize(c.rawUrl),d,Jr.IgnoredSameUrlNavigation)),c.resolve(null),he}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return y(c).pipe(K(d=>{let m=this.transitions?.getValue();return this.events.next(new Nt(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),m!==this.transitions?.getValue()?he:Promise.resolve(d)}),id(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),L(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=F(p({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let m=new Dn(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:d,extractedUrl:m,source:O,restoredState:M,extras:v}=c,I=new Nt(d,this.urlSerializer.serialize(m),O,M);this.events.next(I);let P=oa(this.rootComponentType).snapshot;return this.currentTransition=o=F(p({},c),{targetSnapshot:P,urlAfterRedirects:m,extras:F(p({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,y(o)}else{let d="";return this.events.next(new ke(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Jr.IgnoredByUrlHandlingStrategy)),c.resolve(null),he}}),L(c=>{let l=new Yr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}),R(c=>(this.currentTransition=o=F(p({},c),{guards:El(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),Nl(this.environmentInjector,c=>this.events.next(c)),L(c=>{if(o.guardsResult=c.guardsResult,Ze(c.guardsResult))throw la(this.urlSerializer,c.guardsResult);let l=new Xr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(l)}),fe(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",q.GuardRejected),!1)),zr(c=>{if(c.guards.canActivateChecks.length)return y(c).pipe(L(l=>{let h=new Zr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),K(l=>{let h=!1;return y(l).pipe(sd(this.paramsInheritanceStrategy,this.environmentInjector),L({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",q.NoDataFromResolver)}}))}),L(l=>{let h=new Qr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),zr(c=>{let l=h=>{let d=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(h.routeConfig).pipe(L(m=>{h.component=m}),R(()=>{})));for(let m of h.children)d.push(...l(m));return d};return pr(l(c.targetSnapshot.root)).pipe(mr(null),$e(1))}),zr(()=>this.afterPreactivation()),K(()=>{let{currentSnapshot:c,targetSnapshot:l}=o,h=this.createViewTransition?.(this.environmentInjector,c.root,l.root);return h?z(h).pipe(R(()=>o)):y(o)}),R(c=>{let l=pl(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=F(p({},c),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),L(()=>{this.events.next(new Mt)}),wl(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),$e(1),L({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Pe(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Us(this.transitionAbortSubject.pipe(L(c=>{throw c}))),Se(()=>{!a&&!u&&this.cancelNavigationTransition(o,"",q.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),je(c=>{if(u=!0,ha(c))this.events.next(new ye(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),vl(c)?this.events.next(new Lt(c.url)):o.resolve(!1);else{this.events.next(new Dt(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(l){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(l)}}return he}))}))}cancelNavigationTransition(r,i,s){let o=new ye(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vd(t){return t!==Ot}var yd=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>g(_d),providedIn:"root"});let t=e;return t})(),mi=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},_d=(()=>{let e=class e extends mi{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=_r(e)))(s||e)}})(),e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:()=>g(Id),providedIn:"root"});let t=e;return t})(),Id=(()=>{let e=class e extends wa{constructor(){super(...arguments),this.location=g(pn),this.urlSerializer=g(vi),this.options=g(Ti,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(Ri),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ve,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=oa(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Nt)this.stateMemento=this.createStateMemento();else if(r instanceof ke)this.rawUrlTree=i.initialUrl;else if(r instanceof Dn){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof Mt?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof ye&&(r.code===q.GuardRejected||r.code===q.NoDataFromResolver)?this.restoreHistory(i):r instanceof Dt?this.restoreHistory(i,!0):r instanceof Pe&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=p(p({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=p(p({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=_r(e)))(s||e)}})(),e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),At=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(At||{});function wd(t,e){t.events.pipe(fe(n=>n instanceof Pe||n instanceof ye||n instanceof Dt||n instanceof ke),R(n=>n instanceof Pe||n instanceof ke?At.COMPLETE:(n instanceof ye?n.code===q.Redirect||n.code===q.SupersededByNewNavigation:!1)?At.REDIRECTING:At.FAILED),fe(n=>n!==At.REDIRECTING),$e(1)).subscribe(()=>{e()})}function Ed(t){throw t}var Td={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ea=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=g(hn),this.stateManager=g(wa),this.options=g(Ti,{optional:!0})||{},this.pendingTasks=g(mt),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(md),this.urlSerializer=g(vi),this.location=g(pn),this.urlHandlingStrategy=g(Ri),this._events=new be,this.errorHandler=this.options.errorHandler||Ed,this.navigated=!1,this.routeReuseStrategy=g(yd),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(bi,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(Ii,{optional:!0}),this.eventsSubscription=new Rs,this.isNgZoneEnabled=g(j)instanceof j&&j.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof ye&&i.code!==q.Redirect&&i.code!==q.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Pe)this.navigated=!0;else if(i instanceof Lt){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),u={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||vd(s.source)};this.scheduleNavigation(a,Ot,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Sd(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ot,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=p({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(wi),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:u,preserveFragment:c}=i,l=c?this.currentUrlTree.fragment:a,h=null;switch(u){case"merge":h=p(p({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let d;try{let m=s?s.snapshot:this.routerState.snapshot.root;d=na(m)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),d=this.currentUrlTree.root}return ra(d,r,h,l??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Ze(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Ot,null,i)}navigate(r,i={skipLocationChange:!1}){return Rd(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=p({},Td):i===!1?s=p({},bd):s=i,Ze(r))return Vo(this.currentUrlTree,r,s);let o=this.parseUrl(r);return Vo(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let u,c,l;a?(u=a.resolve,c=a.reject,l=a.promise):l=new Promise((d,m)=>{u=d,c=m});let h=this.pendingTasks.add();return wd(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Rd(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new k(4008,!1)}function Sd(t){return!(t instanceof Mt)&&!(t instanceof Lt)}var Ad=new A("");function ov(t,...e){return ne([{provide:bi,multi:!0,useValue:t},[],{provide:Qe,useFactory:Cd,deps:[Ea]},{provide:fn,multi:!0,useFactory:Pd},e.map(n=>n.\u0275providers)])}function Cd(t){return t.routerState.root}function Od(t,e){return{\u0275kind:t,\u0275providers:e}}function Pd(){let t=g(Be);return e=>{let n=t.get(vt);if(e!==n.components[0])return;let r=t.get(Ea),i=t.get(kd);t.get(Nd)===1&&r.initialNavigation(),t.get(Dd,null,yr.Optional)?.setUpPreloading(),t.get(Ad,null,yr.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var kd=new A("",{factory:()=>new be}),Nd=new A("",{providedIn:"root",factory:()=>1});var Dd=new A("");function av(t){let e=[{provide:_a,useValue:pd},{provide:Ia,useValue:p({skipNextTransition:!!t?.skipInitialTransition},t)}];return Od(9,e)}var ba=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Md=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Ra={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=s>>2,h=(s&3)<<4|a>>4,d=(a&15)<<2|c>>6,m=c&63;u||(m=64,o||(d=64)),r.push(n[l],n[h],n[d],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ba(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Md(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new Ai;let d=s<<2|a>>4;if(r.push(d),c!==64){let m=a<<4&240|c>>2;if(r.push(m),h!==64){let O=c<<6&192|h;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ai=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Ld=function(t){let e=ba(t);return Ra.encodeByteArray(e,!0)},Bt=function(t){return Ld(t).replace(/\./g,"")},Oi=function(t){try{return Ra.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ud(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var xd=()=>Ud().__FIREBASE_DEFAULTS__,Fd=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jd=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Oi(t[1]);return e&&JSON.parse(e)},Pi=()=>{try{return xd()||Fd()||jd()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Sa=t=>{var e,n;return(n=(e=Pi())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Aa=t=>{let e=Sa(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ki=()=>{var t;return(t=Pi())===null||t===void 0?void 0:t.config},Ca=t=>{var e;return(e=Pi())===null||e===void 0?void 0:e[`_${t}`]};var Vn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Oa(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bt(JSON.stringify(n)),Bt(JSON.stringify(o)),""].join(".")}function Q(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pa(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Q())}function ka(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Na(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Da(){try{return typeof indexedDB=="object"}catch{return!1}}function Ma(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var $d="FirebaseError",Y=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$d,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}},de=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Vd(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Y(i,a,r)}};function Vd(t,e){return t.replace(Bd,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Bd=/\{\$([^}]+)}/g;function zt(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(Ta(s)&&Ta(o)){if(!zt(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Ta(t){return t!==null&&typeof t=="object"}function Ni(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function La(t,e){let n=new Ci(t,e);return n.subscribe.bind(n)}var Ci=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zd(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Si),i.error===void 0&&(i.error=Si),i.complete===void 0&&(i.complete=Si);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function zd(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Si(){}var lv=4*60*60*1e3;function ae(t){return t&&t._delegate?t._delegate:t}var X=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ne="[DEFAULT]";var Di=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Vn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qd(e))try{this.getOrInitializeService({instanceIdentifier:Ne})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ne){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return f(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ne){return this.instances.has(e)}getOptions(e=Ne){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Wd(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ne){return this.component?this.component.multipleInstances?e:Ne:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Wd(t){return t===Ne?void 0:t}function qd(t){return t.instantiationMode==="EAGER"}var Bn=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Di(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Hd=[],C=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(C||{}),Gd={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},Kd=C.INFO,Jd={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},Yd=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Jd[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},nt=class{constructor(e){this.name=e,this._logLevel=Kd,this._logHandler=Yd,this._userLogHandler=null,Hd.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in C))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Gd[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...e),this._logHandler(this,C.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...e),this._logHandler(this,C.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,C.INFO,...e),this._logHandler(this,C.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,C.WARN,...e),this._logHandler(this,C.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...e),this._logHandler(this,C.ERROR,...e)}};var Xd=(t,e)=>e.some(n=>t instanceof n),Ua,xa;function Zd(){return Ua||(Ua=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Qd(){return xa||(xa=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Fa=new WeakMap,Li=new WeakMap,ja=new WeakMap,Mi=new WeakMap,xi=new WeakMap;function eh(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ce(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Fa.set(n,t)}).catch(()=>{}),xi.set(e,t),e}function th(t){if(Li.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Li.set(t,e)}var Ui={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Li.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ja.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ce(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $a(t){Ui=t(Ui)}function nh(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(zn(this),e,...n);return ja.set(r,e.sort?e.sort():[e]),ce(r)}:Qd().includes(t)?function(...e){return t.apply(zn(this),e),ce(Fa.get(this))}:function(...e){return ce(t.apply(zn(this),e))}}function rh(t){return typeof t=="function"?nh(t):(t instanceof IDBTransaction&&th(t),Xd(t,Zd())?new Proxy(t,Ui):t)}function ce(t){if(t instanceof IDBRequest)return eh(t);if(Mi.has(t))return Mi.get(t);let e=rh(t);return e!==t&&(Mi.set(t,e),xi.set(e,t)),e}var zn=t=>xi.get(t);function Ba(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=ce(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ce(o.result),u.oldVersion,u.newVersion,ce(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var ih=["get","getKey","getAll","getAllKeys","count"],sh=["put","add","delete","clear"],Fi=new Map;function Va(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fi.get(e))return Fi.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=sh.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ih.includes(n)))return;let s=function(o,...a){return f(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),c=u.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&u.done]))[0]})};return Fi.set(e,s),s}$a(t=>F(p({},t),{get:(e,n,r)=>Va(e,n)||t.get(e,n,r),has:(e,n)=>!!Va(e,n)||t.has(e,n)}));var $i=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oh(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function oh(t){let e=t.getComponent();return e?.type==="VERSION"}var Vi="@firebase/app",za="0.10.5";var De=new nt("@firebase/app"),ah="@firebase/app-compat",ch="@firebase/analytics-compat",uh="@firebase/analytics",lh="@firebase/app-check-compat",dh="@firebase/app-check",hh="@firebase/auth",fh="@firebase/auth-compat",ph="@firebase/database",gh="@firebase/database-compat",mh="@firebase/functions",vh="@firebase/functions-compat",yh="@firebase/installations",_h="@firebase/installations-compat",Ih="@firebase/messaging",wh="@firebase/messaging-compat",Eh="@firebase/performance",Th="@firebase/performance-compat",bh="@firebase/remote-config",Rh="@firebase/remote-config-compat",Sh="@firebase/storage",Ah="@firebase/storage-compat",Ch="@firebase/firestore",Oh="@firebase/vertexai-preview",Ph="@firebase/firestore-compat",kh="firebase",Nh="10.12.2";var Bi="[DEFAULT]",Dh={[Vi]:"fire-core",[ah]:"fire-core-compat",[uh]:"fire-analytics",[ch]:"fire-analytics-compat",[dh]:"fire-app-check",[lh]:"fire-app-check-compat",[hh]:"fire-auth",[fh]:"fire-auth-compat",[ph]:"fire-rtdb",[gh]:"fire-rtdb-compat",[mh]:"fire-fn",[vh]:"fire-fn-compat",[yh]:"fire-iid",[_h]:"fire-iid-compat",[Ih]:"fire-fcm",[wh]:"fire-fcm-compat",[Eh]:"fire-perf",[Th]:"fire-perf-compat",[bh]:"fire-rc",[Rh]:"fire-rc-compat",[Sh]:"fire-gcs",[Ah]:"fire-gcs-compat",[Ch]:"fire-fst",[Ph]:"fire-fst-compat",[Oh]:"fire-vertex","fire-js":"fire-js",[kh]:"fire-js-all"};var Wt=new Map,Mh=new Map,zi=new Map;function Wa(t,e){try{t.container.addComponent(e)}catch(n){De.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function we(t){let e=t.name;if(zi.has(e))return De.debug(`There were multiple attempts to register component ${e}.`),!1;zi.set(e,t);for(let n of Wt.values())Wa(n,t);for(let n of Mh.values())Wa(n,t);return!0}function Gi(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rt(t){return t.settings!==void 0}var Lh={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ie=new de("app","Firebase",Lh);var Wi=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new X("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ie.create("app-deleted",{appName:this._name})}};var it=Nh;function Ki(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Bi,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ie.create("bad-app-name",{appName:String(i)});if(n||(n=ki()),!n)throw Ie.create("no-options");let s=Wt.get(i);if(s){if(zt(n,s.options)&&zt(r,s.config))return s;throw Ie.create("duplicate-app",{appName:i})}let o=new Bn(i);for(let u of zi.values())o.addComponent(u);let a=new Wi(n,r,o);return Wt.set(i,a),a}function Ht(t=Bi){let e=Wt.get(t);if(!e&&t===Bi&&ki())return Ki();if(!e)throw Ie.create("no-app",{appName:t});return e}function Wn(){return Array.from(Wt.values())}function x(t,e,n){var r;let i=(r=Dh[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),De.warn(a.join(" "));return}we(new X(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Uh="firebase-heartbeat-database",xh=1,qt="firebase-heartbeat-store",ji=null;function Ka(){return ji||(ji=Ba(Uh,xh,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(qt)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ie.create("idb-open",{originalErrorMessage:t.message})})),ji}function Fh(t){return f(this,null,function*(){try{let n=(yield Ka()).transaction(qt),r=yield n.objectStore(qt).get(Ja(t));return yield n.done,r}catch(e){if(e instanceof Y)De.warn(e.message);else{let n=Ie.create("idb-get",{originalErrorMessage:e?.message});De.warn(n.message)}}})}function qa(t,e){return f(this,null,function*(){try{let r=(yield Ka()).transaction(qt,"readwrite");yield r.objectStore(qt).put(e,Ja(t)),yield r.done}catch(n){if(n instanceof Y)De.warn(n.message);else{let r=Ie.create("idb-set",{originalErrorMessage:n?.message});De.warn(r.message)}}})}function Ja(t){return`${t.name}!${t.options.appId}`}var jh=1024,$h=30*24*60*60*1e3,qi=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Hi(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return f(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ha();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=$h}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return f(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Ha(),{heartbeatsToSend:r,unsentEntries:i}=Vh(this._heartbeatsCache.heartbeats),s=Bt(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Ha(){return new Date().toISOString().substring(0,10)}function Vh(t,e=jh){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Ga(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ga(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Hi=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return f(this,null,function*(){return Da()?Ma().then(()=>!0).catch(()=>!1):!1})}read(){return f(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Fh(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qa(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return f(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qa(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Ga(t){return Bt(JSON.stringify({version:2,heartbeats:t})).length}function Bh(t){we(new X("platform-logger",e=>new $i(e),"PRIVATE")),we(new X("heartbeat",e=>new qi(e),"PRIVATE")),x(Vi,za,t),x(Vi,za,"esm2017"),x("fire-js","")}Bh("");var zh="firebase",Wh="10.12.2";x(zh,Wh,"app");var ot=new dn("ANGULARFIRE2_VERSION");function Yi(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Kt=(t,e)=>{let n=e?[e]:Wn(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Gt=class{constructor(){return Kt(qh)}},qh="app-check";function st(){}var qn=class{zone;delegate;constructor(e,n=Cs){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Ji=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",st,{},st,st)),n.pipe(L({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Jt=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new qn(Zone.current)),this.insideAngular=n.run(()=>new qn(Zone.current,As)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(E(j))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hn(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Hh(t){return Hn().ngZone.runOutsideAngular(()=>t())}function Me(t){return Hn().ngZone.run(()=>t())}function Gh(t){return Kh(Hn())(t)}function Kh(t){return function(n){return n=n.lift(new Ji(t.ngZone)),n.pipe(fr(t.outsideAngular),hr(t.insideAngular))}}var Jh=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Me(()=>t.apply(void 0,r))},Ee=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Me(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",st,{},st,st))),r[s]=Jh(r[s],n));let i=Hh(()=>t.apply(this,r));if(!e)if(i instanceof dt){let s=Hn();return i.pipe(fr(s.outsideAngular),hr(s.insideAngular))}else return Me(()=>i);return i instanceof dt?i.pipe(Gh):i instanceof Promise?Me(()=>new Promise((s,o)=>i.then(a=>Me(()=>s(a)),a=>Me(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Me(()=>i)};var Le=class{constructor(e){return e}},Yt=class{constructor(){return Wn()}};function Yh(t){return t&&t.length===1?t[0]:new Le(Ht())}var Xi=new A("angularfire2._apps"),Xh={provide:Le,useFactory:Yh,deps:[[new te,Xi]]},Zh={provide:Yt,deps:[[new te,Xi]]};function Qh(t){return(e,n)=>{let r=n.get(ie);x("angularfire",ot.full,"core"),x("angularfire",ot.full,"app"),x("angular",so.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Le(i)}}function Jv(t,...e){return ne([Xh,Zh,{provide:Xi,useFactory:Qh(t),multi:!0,deps:[j,Be,Jt,...e]}])}var Yv=Ee(Ki,!0);function rc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ic=rc,sc=new de("auth","Firebase",rc());var Yn=new nt("@firebase/auth");function ef(t,...e){Yn.logLevel<=C.WARN&&Yn.warn(`Auth (${it}): ${t}`,...e)}function Kn(t,...e){Yn.logLevel<=C.ERROR&&Yn.error(`Auth (${it}): ${t}`,...e)}function Ya(t,...e){throw us(t,...e)}function cs(t,...e){return us(t,...e)}function oc(t,e,n){let r=Object.assign(Object.assign({},ic()),{[e]:n});return new de("auth","Firebase",r).create(e,{appName:t.name})}function Jn(t){return oc(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function us(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sc.create(t,...e)}function b(t,e,...n){if(!t)throw us(e,...n)}function Xt(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Kn(e),new Error(e)}function Xn(t,e){t||Xt(e)}function tf(){return Xa()==="http:"||Xa()==="https:"}function Xa(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function nf(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tf()||ka()||"connection"in navigator)?navigator.onLine:!0}function rf(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var xe=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xn(n>e,"Short delay should be less than long delay!"),this.isMobile=Pa()||Na()}get(){return nf()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function sf(t,e){Xn(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Zn=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var of={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var af=new xe(3e4,6e4);function ac(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function nr(s,o,a,u){return f(this,arguments,function*(t,e,n,r,i={}){return cc(t,i,()=>f(this,null,function*(){let c={},l={};r&&(e==="GET"?l=r:c={body:JSON.stringify(r)});let h=Ni(Object.assign({key:t.config.apiKey},l)).slice(1),d=yield t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),Zn.fetch()(uc(t,t.config.apiHost,n,h),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},c))}))})}function cc(t,e,n){return f(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},of),e);try{let i=new es(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Gn(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gn(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Gn(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Gn(t,"user-disabled",o);let l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw oc(t,l,c);Ya(t,l)}}catch(i){if(i instanceof Y)throw i;Ya(t,"network-request-failed",{message:String(i)})}})}function uc(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?sf(t.config,i):`${t.config.apiScheme}://${i}`}var es=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(cs(this.auth,"network-request-failed")),af.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Gn(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=cs(t,e,r);return i.customData._tokenResponse=n,i}function cf(t,e){return f(this,null,function*(){return nr(t,"POST","/v1/accounts:delete",e)})}function lc(t,e){return f(this,null,function*(){return nr(t,"POST","/v1/accounts:lookup",e)})}function Zt(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ls(t,e=!1){return f(this,null,function*(){let n=ae(t),r=yield n.getIdToken(e),i=dc(r);b(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Zt(Zi(i.auth_time)),issuedAtTime:Zt(Zi(i.iat)),expirationTime:Zt(Zi(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Zi(t){return Number(t)*1e3}function dc(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kn("JWT malformed, contained fewer than 3 sections"),null;try{let i=Oi(n);return i?JSON.parse(i):(Kn("Failed to decode base64 JWT payload"),null)}catch(i){return Kn("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Za(t){let e=dc(t);return b(e,"internal-error"),b(typeof e.exp<"u","internal-error"),b(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ts(t,e,n=!1){return f(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Y&&uf(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function uf({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ns=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>f(this,null,function*(){yield this.iteration()}),n)}iteration(){return f(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var en=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zt(this.lastLoginAt),this.creationTime=Zt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Qn(t){return f(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield ts(t,lc(n,{idToken:r}));b(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?hc(s.providerUserInfo):[],a=lf(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!a?.length,l=u?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new en(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,h)})}function ds(t){return f(this,null,function*(){let e=ae(t);yield Qn(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function lf(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hc(t){return t.map(e=>{var{providerId:n}=e,r=dr(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function df(t,e){return f(this,null,function*(){let n=yield cc(t,{},()=>f(this,null,function*(){let r=Ni({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=uc(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Zn.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function hf(t,e){return f(this,null,function*(){return nr(t,"POST","/v2/accounts:revokeToken",ac(t,e))})}var Qt=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b(typeof e.idToken<"u","internal-error"),b(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Za(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){b(e.length!==0,"internal-error");let n=Za(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return f(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(b(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return f(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield df(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(b(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(b(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(b(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Xt("not implemented")}};function Te(t,e){b(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var tn=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=dr(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ns(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new en(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return f(this,null,function*(){let n=yield ts(this,this.stsTokenManager.getToken(this.auth,e));return b(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ls(this,e)}reload(){return ds(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return f(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Qn(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return f(this,null,function*(){if(rt(this.auth.app))return Promise.reject(Jn(this.auth));let e=yield this.getIdToken();return yield ts(this,cf(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,O=(o=n.photoURL)!==null&&o!==void 0?o:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,I=(c=n.createdAt)!==null&&c!==void 0?c:void 0,P=(l=n.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:U,emailVerified:w,isAnonymous:Z,providerData:le,stsTokenManager:Fe}=n;b(U&&Fe,e,"internal-error");let lt=Qt.fromJSON(this.name,Fe);b(typeof U=="string",e,"internal-error"),Te(h,e.name),Te(d,e.name),b(typeof w=="boolean",e,"internal-error"),b(typeof Z=="boolean",e,"internal-error"),Te(m,e.name),Te(O,e.name),Te(M,e.name),Te(v,e.name),Te(I,e.name),Te(P,e.name);let cr=new t({uid:U,auth:e,email:d,emailVerified:w,displayName:h,isAnonymous:Z,photoURL:O,phoneNumber:m,tenantId:M,stsTokenManager:lt,createdAt:I,lastLoginAt:P});return le&&Array.isArray(le)&&(cr.providerData=le.map(Vc=>Object.assign({},Vc))),v&&(cr._redirectEventId=v),cr}static _fromIdTokenResponse(e,n,r=!1){return f(this,null,function*(){let i=new Qt;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Qn(s),s})}static _fromGetAccountInfoResponse(e,n,r){return f(this,null,function*(){let i=n.users[0];b(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?hc(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Qt;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new en(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,c),u})}};var Qa=new Map;function Ue(t){Xn(t instanceof Function,"Expected a class definition");let e=Qa.get(t);return e?(Xn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Qa.set(t,e),e)}var ff=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return f(this,null,function*(){return!0})}_set(n,r){return f(this,null,function*(){this.storage[n]=r})}_get(n){return f(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return f(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),rs=ff;function Qi(t,e,n){return`firebase:${t}:${e}:${n}`}var er=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Qi(this.userKey,i.apiKey,s),this.fullPersistenceKey=Qi("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return f(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?tn._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return f(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return f(this,null,function*(){if(!n.length)return new t(Ue(rs),e,r);let i=(yield Promise.all(n.map(c=>f(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),s=i[0]||Ue(rs),o=Qi(r,e.config.apiKey,e.name),a=null;for(let c of n)try{let l=yield c._get(o);if(l){let h=tn._fromJSON(e,l);c!==s&&(a=h),s=c;break}}catch{}let u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(c=>f(this,null,function*(){if(c!==s)try{yield c._remove(o)}catch{}}))),new t(s,e,r))})}};function ec(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vf(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pf(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_f(e))return"Blackberry";if(If(e))return"Webos";if(gf(e))return"Safari";if((e.includes("chrome/")||mf(e))&&!e.includes("edge/"))return"Chrome";if(yf(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function pf(t=Q()){return/firefox\//i.test(t)}function gf(t=Q()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mf(t=Q()){return/crios\//i.test(t)}function vf(t=Q()){return/iemobile/i.test(t)}function yf(t=Q()){return/android/i.test(t)}function _f(t=Q()){return/blackberry/i.test(t)}function If(t=Q()){return/webos/i.test(t)}function fc(t,e=[]){let n;switch(t){case"Browser":n=ec(Q());break;case"Worker":n=`${ec(Q())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${it}/${r}`}var is=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return f(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function wf(n){return f(this,arguments,function*(t,e={}){return nr(t,"GET","/v2/passwordPolicy",ac(t,e))})}var Ef=6,ss=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Ef,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var os=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tr(this),this.idTokenSubscription=new tr(this),this.beforeStateQueue=new is(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ue(n)),this._initializationPromise=this.queue(()=>f(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield er.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return f(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return f(this,null,function*(){try{let n=yield lc(this,{idToken:e}),r=yield tn._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return f(this,null,function*(){var n;if(rt(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return b(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return f(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return f(this,null,function*(){try{yield Qn(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=rf()}_delete(){return f(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return f(this,null,function*(){if(rt(this.app))return Promise.reject(Jn(this));let n=e?ae(e):null;return n&&b(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return f(this,null,function*(){if(!this._deleted)return e&&b(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>f(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return f(this,null,function*(){return rt(this.app)?Promise.reject(Jn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return rt(this.app)?Promise.reject(Jn(this)):this.queue(()=>f(this,null,function*(){yield this.assertedPersistence.setPersistence(Ue(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return f(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return f(this,null,function*(){let e=yield wf(this),n=new ss(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new de("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return f(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield hf(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return f(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return f(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Ue(e)||this._popupRedirectResolver;b(n,this,"argument-error"),this.redirectPersistenceManager=yield er.create(this,[Ue(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return f(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>f(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return f(this,null,function*(){if(e===this.currentUser)return this.queue(()=>f(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(b(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return f(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return f(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return f(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&ef(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Tf(t){return ae(t)}var tr=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=La(n=>this.observer=n)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var bf={loadJS(){return f(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rf(t){bf=t}function Sf(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Af(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ue);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var uy=Sf("rcb"),ly=new xe(3e4,6e4);var dy=new xe(2e3,1e4);var hy=10*60*1e3;var fy=new xe(3e4,6e4);var py=new xe(5e3,15e3);var gy=encodeURIComponent("fac");var tc="@firebase/auth",nc="1.7.4";var as=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return f(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Cf(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Of(t){we(new X("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;b(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fc(t)},c=new os(r,i,s,u);return Af(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),we(new X("auth-internal",e=>{let n=Tf(e.getProvider("auth").getImmediate());return(r=>new as(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),x(tc,nc,Cf(t)),x(tc,nc,"esm2017")}var Pf=5*60,my=Ca("authIdTokenMaxAge")||Pf;function kf(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Rf({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=cs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kf().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Of("Browser");var Pp="auth";var rr=class{constructor(){return Kt(Pp)}};var Ic="firebasestorage.googleapis.com",wc="storageBucket",kp=2*60*1e3,Np=10*60*1e3;var N=class t extends Y{constructor(e,n,r=0){super(hs(e),`Firebase Storage: ${n} (${hs(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return hs(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},D=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(D||{});function hs(t){return"storage/"+t}function ys(){let t="An unknown error occurred, please check the error payload for server response.";return new N(D.UNKNOWN,t)}function Dp(t){return new N(D.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Mp(t){return new N(D.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Lp(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new N(D.UNAUTHENTICATED,t)}function Up(){return new N(D.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function xp(t){return new N(D.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Fp(){return new N(D.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jp(){return new N(D.CANCELED,"User canceled the upload/download.")}function $p(t){return new N(D.INVALID_URL,"Invalid URL '"+t+"'.")}function Vp(t){return new N(D.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Bp(){return new N(D.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+wc+"' property when initializing the app?")}function zp(){return new N(D.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Wp(){return new N(D.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qp(t){return new N(D.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function fs(t){return new N(D.INVALID_ARGUMENT,t)}function Ec(){return new N(D.APP_DELETED,"The Firebase app was deleted.")}function Hp(t){return new N(D.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rn(t,e){return new N(D.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function nn(t){throw new N(D.INTERNAL_ERROR,"Internal error: "+t)}var ee=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Vp(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(w){w.path_=decodeURIComponent(w.path)}let l="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${l}/b/${i}/o${d}`,"i"),O={bucket:1,path:3},M=n===Ic?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",I=new RegExp(`^https?://${M}/${i}/${v}`,"i"),U=[{regex:a,indices:u,postModify:s},{regex:m,indices:O,postModify:c},{regex:I,indices:{bucket:1,path:2},postModify:c}];for(let w=0;w<U.length;w++){let Z=U[w],le=Z.regex.exec(e);if(le){let Fe=le[Z.indices.bucket],lt=le[Z.indices.path];lt||(lt=""),r=new t(Fe,lt),Z.postModify(r);break}}if(r==null)throw $p(e);return r}},ps=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Gp(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let c=!1;function l(...v){c||(c=!0,e.apply(null,v))}function h(v){i=setTimeout(()=>{i=null,t(m,u())},v)}function d(){s&&clearTimeout(s)}function m(v,...I){if(c){d();return}if(v){d(),l.call(null,v,...I);return}if(u()||o){d(),l.call(null,v,...I);return}r<64&&(r*=2);let U;a===1?(a=2,U=0):U=(r+Math.random())*1e3,h(U)}let O=!1;function M(v){O||(O=!0,d(),!c&&(i!==null?(v||(a=2),clearTimeout(i),h(0)):v||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,M(!0)},n),M}function Kp(t){t(!1)}function Jp(t){return t!==void 0}function Yp(t){return typeof t=="object"&&!Array.isArray(t)}function _s(t){return typeof t=="string"||t instanceof String}function pc(t){return Is()&&t instanceof Blob}function Is(){return typeof Blob<"u"}function gc(t,e,n,r){if(r<e)throw fs(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw fs(`Invalid value for '${t}'. Expected ${n} or less.`)}function ws(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Tc(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ct=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(ct||{});function Xp(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var gs=class{constructor(e,n,r,i,s,o,a,u,c,l,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,O)=>{this.resolve_=m,this.reject_=O,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new at(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===ct.NO_ERROR,u=s.getStatus();if(!a||Xp(u,this.additionalRetryCodes_)&&this.retry){let l=s.getErrorCode()===ct.ABORT;r(!1,new at(!1,null,l));return}let c=this.successCodes_.indexOf(u)!==-1;r(!0,new at(c,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());Jp(u)?s(u):s()}catch(u){o(u)}else if(a!==null){let u=ys();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){let u=this.appDelete_?Ec():jp();o(u)}else{let u=Fp();o(u)}};this.canceled_?n(!1,new at(!1,null,!0)):this.backoffId_=Gp(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Kp(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},at=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Zp(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Qp(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eg(t,e){e&&(t["X-Firebase-GMPID"]=e)}function tg(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ng(t,e,n,r,i,s,o=!0){let a=Tc(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return eg(c,e),Zp(c,n),Qp(c,s),tg(c,r),new gs(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function rg(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ig(...t){let e=rg();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Is())return new Blob(t);throw new N(D.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sg(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function og(t){if(typeof atob>"u")throw qp("base-64");return atob(t)}var ue={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},sn=class{constructor(e,n){this.data=e,this.contentType=n||null}};function ag(t,e){switch(t){case ue.RAW:return new sn(bc(e));case ue.BASE64:case ue.BASE64URL:return new sn(Rc(t,e));case ue.DATA_URL:return new sn(ug(e),lg(e))}throw ys()}function bc(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function cg(t){let e;try{e=decodeURIComponent(t)}catch{throw rn(ue.DATA_URL,"Malformed data URL.")}return bc(e)}function Rc(t,e){switch(t){case ue.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw rn(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ue.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw rn(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=og(e)}catch(i){throw i.message.includes("polyfill")?i:rn(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var sr=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw rn(ue.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=dg(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function ug(t){let e=new sr(t);return e.base64?Rc(ue.BASE64,e.rest):cg(e.rest)}function lg(t){return new sr(t).contentType}function dg(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var or=class t{constructor(e,n){let r=0,i="";pc(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(pc(this.data_)){let r=this.data_,i=sg(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(Is()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(ig.apply(null,n))}else{let n=e.map(o=>_s(o)?ag(ue.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new t(i,!0)}}uploadData(){return this.data_}};function Sc(t){let e;try{e=JSON.parse(t)}catch{return null}return Yp(e)?e:null}function hg(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function fg(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Ac(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function pg(t,e){return e}var V=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||pg}},ir=null;function gg(t){return!_s(t)||t.length<2?t:Ac(t)}function Cc(){if(ir)return ir;let t=[];t.push(new V("bucket")),t.push(new V("generation")),t.push(new V("metageneration")),t.push(new V("name","fullPath",!0));function e(s,o){return gg(o)}let n=new V("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new V("size");return i.xform=r,t.push(i),t.push(new V("timeCreated")),t.push(new V("updated")),t.push(new V("md5Hash",null,!0)),t.push(new V("cacheControl",null,!0)),t.push(new V("contentDisposition",null,!0)),t.push(new V("contentEncoding",null,!0)),t.push(new V("contentLanguage",null,!0)),t.push(new V("contentType",null,!0)),t.push(new V("metadata","customMetadata",!0)),ir=t,ir}function mg(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new ee(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function vg(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return mg(r,t),r}function Oc(t,e,n){let r=Sc(e);return r===null?null:vg(t,r,n)}function yg(t,e,n,r){let i=Sc(e);if(i===null||!_s(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(c=>{let l=t.bucket,h=t.fullPath,d="/b/"+o(l)+"/o/"+o(h),m=ws(d,n,r),O=Tc({alt:"media",token:c});return m+O})[0]}function _g(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var ar=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function Pc(t){if(!t)throw ys()}function Ig(t,e){function n(r,i){let s=Oc(t,i,e);return Pc(s!==null),s}return n}function wg(t,e){function n(r,i){let s=Oc(t,i,e);return Pc(s!==null),yg(s,i,t.host,t._protocol)}return n}function kc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Up():i=Lp():n.getStatus()===402?i=Mp(t.bucket):n.getStatus()===403?i=xp(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Eg(t){let e=kc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=Dp(t.path)),s.serverResponse=i.serverResponse,s}return n}function Tg(t,e,n){let r=e.fullServerUrl(),i=ws(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ar(i,s,wg(t,n),o);return a.errorHandler=Eg(e),a}function bg(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Rg(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=bg(null,e)),r}function Sg(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let U="";for(let w=0;w<2;w++)U=U+Math.random().toString().slice(2);return U}let u=a();o["Content-Type"]="multipart/related; boundary="+u;let c=Rg(e,r,i),l=_g(c,n),h="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+l+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+u+"--",m=or.getBlob(h,r,d);if(m===null)throw zp();let O={name:c.fullPath},M=ws(s,t.host,t._protocol),v="POST",I=t.maxUploadRetryTime,P=new ar(M,v,Ig(t,n),I);return P.urlParams=O,P.headers=o,P.body=m.uploadData(),P.errorHandler=kc(e),P}var u_=256*1024;var mc=null,ms=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ct.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ct.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ct.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw nn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw nn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw nn("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw nn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw nn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},vs=class extends ms{initXhr(){this.xhr_.responseType="text"}};function Nc(){return mc?mc():new vs}var ut=class t{constructor(e,n){this._service=e,n instanceof ee?this._location=n:this._location=ee.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new ee(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ac(this._location.path)}get storage(){return this._service}get parent(){let e=hg(this._location.path);if(e===null)return null;let n=new ee(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Hp(e)}};function Ag(t,e,n){t._throwIfRoot("uploadBytes");let r=Sg(t.storage,t._location,Cc(),new or(e,!0),n);return t.storage.makeRequestWithTokens(r,Nc).then(i=>({metadata:i,ref:t}))}function Cg(t){t._throwIfRoot("getDownloadURL");let e=Tg(t.storage,t._location,Cc());return t.storage.makeRequestWithTokens(e,Nc).then(n=>{if(n===null)throw Wp();return n})}function Og(t,e){let n=fg(t._location.path,e),r=new ee(t._location.bucket,n);return new ut(t.storage,r)}function Pg(t){return/^[A-Za-z]+:\/\//.test(t)}function kg(t,e){return new ut(t,e)}function Dc(t,e){if(t instanceof on){let n=t;if(n._bucket==null)throw Bp();let r=new ut(n,n._bucket);return e!=null?Dc(r,e):r}else return e!==void 0?Og(t,e):t}function Ng(t,e){if(e&&Pg(e)){if(t instanceof on)return kg(t,e);throw fs("To use ref(service, url), the first argument must be a Storage instance.")}else return Dc(t,e)}function vc(t,e){let n=e?.[wc];return n==null?null:ee.makeFromBucketSpec(n,t)}function Dg(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Oa(i,t.app.options.projectId))}var on=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Ic,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kp,this._maxUploadRetryTime=Np,this._requests=new Set,i!=null?this._bucket=ee.makeFromBucketSpec(i,this._host):this._bucket=vc(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ee.makeFromBucketSpec(this._url,e):this._bucket=vc(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){gc("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){gc("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return f(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return f(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ut(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new ps(Ec());{let o=ng(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return f(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},yc="@firebase/storage",_c="0.12.5";var Mc="storage";function Lc(t,e,n){return t=ae(t),Ag(t,e,n)}function Uc(t){return t=ae(t),Cg(t)}function xc(t,e){return t=ae(t),Ng(t,e)}function Fc(t=Ht(),e){t=ae(t);let r=Gi(t,Mc).getImmediate({identifier:e}),i=Aa("storage");return i&&jc(r,...i),r}function jc(t,e,n,r={}){Dg(t,e,n,r)}function Mg(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new on(n,r,i,e,it)}function Lg(){we(new X(Mc,Mg,"PUBLIC").setMultipleInstances(!0)),x(yc,_c,""),x(yc,_c,"esm2017")}Lg();var an=class{constructor(e){return e}},$c="storage",Es=class{constructor(){return Kt($c)}};var Ts=new A("angularfire2.storage-instances");function Ug(t,e){let n=Yi($c,t,e);return n&&new an(n)}function xg(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new an(r)}}var Fg={provide:Es,deps:[[new te,Ts]]},jg={provide:an,useFactory:Ug,deps:[[new te,Ts],Le]};function k_(t,...e){return x("angularfire",ot.full,"gcs"),ne([jg,Fg,{provide:Ts,useFactory:xg(t),multi:!0,deps:[j,Be,Jt,Yt,[new te,rr],[new te,Gt],...e]}])}var N_=Ee(Uc,!0);var D_=Ee(Fc,!0);var M_=Ee(xc,!0);var L_=Ee(Lc,!0);export{Jc as a,Yg as b,Do as c,vm as d,xu as e,ym as f,fl as g,Ea as h,ov as i,av as j,Jv as k,Yv as l,an as m,k_ as n,N_ as o,D_ as p,M_ as q,L_ as r};
